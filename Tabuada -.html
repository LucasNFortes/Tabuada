<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta charset="utf-8"/>
    <title>Tabuada</title>
    <style>
      /* Add some basic styling */
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 20px;
      }
      /* Give the question and result text a larger font */
      #question, #result {
        font-size: 20px;
        margin: 10px 0;
      }
      /* Center the input and button */
      input[type="text"], button {
        margin: 10px auto;
        display: block;
      }
      /* Add some hover effect to the button */
      button:hover {
        cursor: pointer;
        background-color: lightgray;
      }
      body {
       zoom: 150%;
      }
      body {
      /* Light mode styling */
        background-color: white;
        color: black;
      }

      .dark-mode {
      /* Dark mode styling */
        background-color: black;
        color: white;
      }
      body {
        font-family: Arial, sans-serif;
        text-align: center;
        padding: 20px;
        clear: both;
      }
      
      img.logo {
        float: inline-start;
        margin-top: 0px;
      }
    </style>
  </head>
    <img class="logo" src="https://i.imgur.com/kFy7n3S.png" width="100"></img>
  <body class="light-mode">
    <button id="switch-theme">â˜¾</button>
    <h1>Jogo da Tabuada</h1>
    <p>Resolva a conta abaixo:</p>
    <p id="question"></p>
    <input type="number" id="answer" pattern="[0-9]+" title="Por favor, digite apenas nÃºmeros" placeholder="Sua resposta aqui">
    <button id="check-answer">Verificar</button>
    <p id="result"></p>
    <script>
    const switchBtn = document.getElementById("switch-theme");
    const body = document.querySelector("body");

    switchBtn.addEventListener("click", function() {
      if (body.classList.contains("light-mode")) {
        body.classList.remove("light-mode");
        body.classList.add("dark-mode");
        switchBtn.innerHTML = "ðŸŒ£";
      } else {
        body.classList.remove("dark-mode");
        body.classList.add("light-mode");
        switchBtn.innerHTML = "â˜¾";
      }
    });
    
    var vidas = 10;
    var num_of_question = 100; // number of question you want to ask
    var current_question = 1;
    var tabuada = Math.floor(Math.random() * 20) + 1;
    var conta = Math.floor(Math.random() * 10) + 1;
    if (tabuada - conta < 0) {
      while (tabuada - conta < 0) {
        tabuada = Math.floor(Math.random() * 20) + 1
      }
    };
    if (tabuada - conta > 10) {
      while (tabuada - conta > 10) {
        conta = Math.floor(Math.random() * 10) + 1
      }
    };
    var resultado = tabuada - conta;
    var question = document.getElementById("question");
    question.innerHTML = `${tabuada} - ${conta} = `;
    var result = document.getElementById("result");
    document.getElementById("check-answer").addEventListener("click", function(){
        var resposta = parseInt(document.getElementById("answer").value);
        document.getElementById("answer").addEventListener("input", function() {
         if (!/^\d+$/.test(this.value)) {
        this.value = this.value.slice(0,-1);
            }
        });
        if (resposta === resultado) {
          result.innerHTML = "Certo!";
        }
        else {
          vidas--;
          if (vidas > 0) {
            result.innerHTML = `Errado, a resposta era ${resultado}. Estude mais! `;
            result.innerHTML += `VocÃª ainda tem ${vidas} vidas!`;
          } 
          else if (vidas === 0) {
            result.innerHTML = `Errado, a resposta era ${resultado}. VocÃª estÃ¡ na Ãºltima vida :o`;
          } 
          else {
            result.innerHTML = "VocÃª perdeu. Ficou sem TV.          :(";
            document.getElementById("check-answer").disabled = true;
            document.getElementById("answer").disabled = true;
          }
        }
        current_question++;
        if(current_question <= num_of_question) {
            tabuada = Math.floor(Math.random() * 20) + 1;
            conta = Math.floor(Math.random() * 10) + 1;
            if (tabuada - conta < 0) {
              while (tabuada - conta < 0) {
                tabuada = Math.floor(Math.random() * 20) + 1
              }
            };
            if (tabuada - conta > 10) {
              while (tabuada - conta > 10) {
              conta = Math.floor(Math.random() * 10) + 1
              }
            };
            resultado = tabuada - conta;
            question.innerHTML = `${tabuada} - ${conta} = `;
            document.getElementById("answer").value = "";
        }
        else {
            result.innerHTML += " ParabÃ©ns vocÃª zerou o Jogo!";
        }
    });
    document.getElementById("answer").addEventListener("keyup", function(event) {
      if (event.keyCode === 13) {
    document.getElementById("check-answer").click();
  }
});
    </script>
  </body>
</html>

